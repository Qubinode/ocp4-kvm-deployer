apiVersion: local.storage.openshift.io/v1
kind: LocalVolume
metadata:
  name: "localblock-disks"
  namespace: "local-storage"
  annotations:
    storageclass.kubernetes.io/is-default-class: 'true'
spec:
  nodeSelector:
    nodeSelectorTerms:
    - matchExpressions:
        - key: kubernetes.io/hostname
          operator: In
          values:
{% for compute in ocp4_compute_nodes %}
{% if 'compute' in compute %}
            - {{ cluster_name }}-{{ compute }}.{{cluster_name }}.{{ ocp4_cluster_domain }}
{% endif %}
{% endfor %}
  storageClassDevices:
    - storageClassName: "localblock-sc"
      volumeMode: Block
      devicePaths:
      {% for fs_disk in localstorage_fs_disk %}
        - {{ fs_disk }}
      {% endfor %}

